(this["webpackJsonpinstructor-app"]=this["webpackJsonpinstructor-app"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(0),c=n(1),s=n.n(c),u=n(8),i=n.n(u),o=n(9),l=n(2),f=n.n(l),p=n(5),d=n(10);function v(e){var t=e.students,n=Object(c.useState)(t),s=Object(r.a)(n,2),u=s[0],i=s[1];return Object(a.jsxs)("div",{className:"student-list-container",children:[Object(a.jsx)(j,Object(d.a)({},e)),Object(a.jsx)("input",{type:"text",placeholder:"Filter",onChange:function(e){var n=e.target.value.split(" "),r=t.filter((function(e){var t=e.first,r=e.last;return n.every((function(e){var n=new RegExp(e,"i");return t.match(n)||r.match(n)}))}));i(r)}}),Object(a.jsx)("ul",{className:"student-list",children:u.map(h.bind(null,e))})]})}function j(e){var t=e.students,n=e.setStudents,r=function(){var e=Object(p.a)(f.a.mark((function e(){var r,a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat("https://immense-everglades-63113.herokuapp.com/api","/students"),e.next=3,fetch(r,{headers:{authorization:"testingpw"}});case 3:if(!(a=e.sent).ok){e.next=18;break}return e.prev=5,e.next=8,a.json();case 8:(c=e.sent).forEach((function(e){var n=t.find((function(t){var n=t.first,r=t.last;return n===e.first&&r===e.last}));e.active=!!n&&n.active})),n(c),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0);case 16:e.next=19;break;case 18:console.log("HTTP error, status = "+a.status);case 19:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("button",{className:"refresh-students",onClick:r,children:"Refresh"})}function h(e,t){var n=e.students,r=e.setStudents,c=t.first,s=t.last,u=t.active;return Object(a.jsxs)("li",{children:[b(c)," ",b(s)," ",Object(a.jsx)("input",{type:"checkbox",name:"active",id:"".concat(c,"_").concat(s,"-active"),defaultChecked:!!u,onChange:function(){t.active=!u,r(Object(o.a)(n))}})]},"".concat(c," ").concat(s))}function b(e){return e.replace(/^./,(function(e){return e.toUpperCase()}))}var m=n(11);function x(e){var t=e.data,n=t.size,r=function(e){var t=e.size,n=e.cages,r=e.work;return Array(Math.pow(t,2)).fill(null).map((function(){for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];var s=a[1],u=Math.floor(s/t),i=s%t,o=k({col:u,row:i}),l=r.find(o),f=n.find((function(e){return e.squares.find(o)})),p=w({col:u,row:i},f),d=f.squares.every((function(e){return e.col>=u&&e.row>=i})),v=d?f.result:null,j=d?f.operation:null,h=l?l.value:null;return{col:u,row:i,value:h,neighbors:p,result:v,operation:j}}))}(t);return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"puzzle-container",size:n,children:Object(a.jsx)("div",{className:"grid-container",size:n,children:r.map(O)})})})}function O(e){var t="calcudoku-square "+e.neighbors.join(" ");return Object(a.jsxs)("div",{className:t,children:[Object(a.jsxs)("div",{className:"cage-indicator",children:[e.result,e.operation]}),Object(a.jsx)("input",{type:"number",value:e.value||"",disabled:!0})]})}function w(e,t){var n=[],r={"n-up":{col:e.col-1,row:e.row},"n-down":{col:e.col+1,row:e.row},"n-left":{col:e.col,row:e.row-1},"n-right":{col:e.col,row:e.row+1}};for(var a in r){var c=k(r[a]);t.squares.find(c)&&n.push(a)}return n}function k(e){var t=e.col,n=e.row;return function(e){return e.col===t&&e.row===n}}function g(e){var t=e.students,n=Object(c.useState)(new Map),s=Object(r.a)(n,2),u=s[0],i=s[1],o=function(){var e=Object(p.a)(f.a.mark((function e(t){var n,r,a,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.first,r=t.last,a="".concat("https://immense-everglades-63113.herokuapp.com/api","/students/").concat(n,"_").concat(r,"/activepuzzle"),e.next=4,fetch(a,{headers:{authorization:"testingpw"}});case 4:return c=e.sent,e.next=7,c.json();case 7:return s=e.sent,e.abrupt("return",[t,s]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=Object(c.useCallback)((function(){var e=t.filter((function(e){return e.active}));Object(p.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map(o));case 2:n=t.sent,i(new Map(n));case 4:case"end":return t.stop()}}),t)})))()}),[t,i]);return Object(c.useEffect)((function(){var e=setInterval(l,1e3);return function(){return clearInterval(e)}}),[l]),Object(a.jsx)("ul",{className:"puzzle-display",children:Array.from(u.keys()).map((function(e){var t,n=u.get(e),r=n.puzzleName,c=Object(m.a)(n,["puzzleName"]),s=e.first,i=e.last;switch(r){case"calcudoku":t=Object(a.jsx)(x,{data:c});break;default:t=null}return Object(a.jsxs)("li",{children:[Object(a.jsxs)("div",{className:"student-name",children:[z(s)," ",z(i)]}),t]},"".concat(s,"_").concat(i))}))})}function z(e){return e.replace(/^./,(function(e){return e.toUpperCase()}))}n(18);function y(){var e=Object(c.useState)([{first:"kabirdas",last:"henry",active:!0},{first:"naomi",last:"henry",active:!1}]),t=Object(r.a)(e,2),n=t[0],s=t[1];return Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(v,{students:n,setStudents:s}),Object(a.jsx)(g,{students:n})]})}i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(y,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.d463155a.chunk.js.map